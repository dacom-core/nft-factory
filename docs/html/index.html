<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NFT: NFT</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">NFT
   </div>
   <div id="projectbrief">смарт-контакт</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">NFT </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a></p><h2>Стек: C/C++, eosio.cdt 1.7.0</h2>
<h1>Введение</h1>
<p >Контракт предоставляет сервис выпуска, покупки и продажи NFT с возможностью физической поставки.</p>
<h1>Компиляция</h1>
<p >Заменить ABSOLUTE_PATH_TO_CONTRACT на абсолютный путь к директории контракта NFT. </p><div class="fragment"><div class="line">docker run --rm --name eosio.cdt_v1.7.0 --volume /ABSOLUTE_PATH_TO_CONTRACT:/project -w /project eostudio/eosio.cdt:v1.7.0 /bin/bash -c &quot;eosio-cpp -abigen -I include -R include -contract nft -o nft.wasm nft.cpp&quot; &amp;</div>
</div><!-- fragment --><h1>Генерация документации</h1>
<p >Требуется Doxygen версии от 1.9.3 </p><div class="fragment"><div class="line">git submodule update --init --recursive</div>
<div class="line">doxygen</div>
</div><!-- fragment --><h1>Установка</h1>
<div class="fragment"><div class="line">cleos set contract nft ABSOLUTE_PATH_TO_CONTRACT -p nft</div>
</div><!-- fragment --><h1>Действующие аккаунты</h1>
<p >me - собственное имя контракта;</p>
<h1>Роли</h1>
<h1>Сценарии</h1>
<h3>Пополнение баланса</h3>
<p >Для покупки NFT необходимо пополнить баланс в контракте. Для этого, необходимо осуществить перевод токенов на аккаунт контракта. В этот момент, контракт автоматически создаст запись в базе с балансом токенов и их контрактом. Обычно действие перевода токенов на контракт находится в одной транзакции с действием на оформление покупки.</p>
<h3>Выпуск NFT</h3>
<p >Выпуск NFT осуществляется создателем с уникальным ID. До поступления NFT в продажу, NFT хранится в области оперативной памяти создателя под его управлением. Создатель указывает базовую стоимость целой NFT при её создании. Создатель может указать, может ли он или будущие владельцы выпускать дополнительные части NFT или делить её на части.</p>
<p >Cоздадим объект NFT с одной частью: </p><div class="fragment"><div class="line">cleos push action nft create &#39;[creator, ru, &quot;первая NFT&quot;, &quot;описание волшебной NFT&quot;, 1, realty, &quot;json_links_to_images&quot;, &quot;link to ipns, if use&quot;, false, &quot;&quot;]&#39; -p creator</div>
</div><!-- fragment --><p >Cоздадим объект NFT со множеством частей: </p><div class="fragment"><div class="line">cleos push action nft create &#39;[creator, ru, &quot;первая NFT&quot;, &quot;описание волшебной NFT&quot;, 26, realty, &quot;json_links_to_images&quot;, &quot;link to ipns, if use&quot;, false, &quot;&quot;]&#39; -p creator</div>
</div><!-- fragment --><p> Все части появляются на балансе создателя в тот же момент.</p>
<p >Вызовом действия create мы создадим объект NFT с одной частью.</p>
<p >Для проверки получим таблицу <a class="el" href="structobjects.html" title="Таблица хранения NFT.">objects(nft, nft)</a>.</p>
<h3>Редактирование NFT</h3>
<p >Запрет на эмиссию и деление NFT не может быть снят, если он установлен создателем. Владельцы могут запретить деление и эмиссию, если она разрешена создателем. Новые владельцы не могут разрешить деление и эмиссию, если она была запрещена предыдущими владельцами.</p>
<h3>Продажа NFT</h3>
<p >После создания, любую NFT можно продать. Для этого, необходимо вызвать метод sell:</p>
<p >Продадим одну-единственную часть созданной NFT за 10 токенов SET без возможности торгов, но с физической поставкой методом самовывоза: </p><div class="fragment"><div class="line">cleos push action nft sell &#39;[creator, 1, 1, &quot;eosio.token&quot;, &quot;10.0000 SET&quot;, false, true, &quot;Alanya, Turkey&quot;, [selfdelivery], [], &quot;&quot;]&#39; -p creator</div>
</div><!-- fragment --><p >Для проверки получим таблицу markets(nft, nft).</p>
<h3>Покупка NFT</h3>
<p >Создадим запрос на покупку выставленной на продажу части: </p><div class="fragment"><div class="line">cleos push action nft buy &#39;[buyer, 1, ru, 1, &quot;10.0000 SET&quot;, &quot;доставить сюда&quot;, &quot;selfdelivery&quot;, &quot;&quot;, &quot;&quot;]&#39; -p buyer</div>
</div><!-- fragment --><h3>Доставка NFT</h3>
<p >Если NFT требует доставки, то перед тем, как принять заказ в работу, продавец должен убедиться в том, что покупатель поставил всю необходимую информацию. Если всё верно, вызвать метод:</p>
<div class="fragment"><div class="line">cleos push action nft acceptreq &#39;[creator, 1]&#39; -p creator</div>
</div><!-- fragment --><p> После чего, подтвердить факт осуществления доставки с помощью вызова метода: </p><div class="fragment"><div class="line">cleos push action nft setdelstatus &#39;[creator, 1, finish]&#39; -p creator</div>
</div><!-- fragment --><p> Заказ, при этом, будет помечен как исполненный, а NFT передана покупателю.</p>
<h3>Торги за NFT</h3>
<p >Если на рынке предусмотрена возможность торгов, то каждый потенциальный покупатель может предложить свою цену. Если цена устраивает продавца, то он может утвердить сделку методом: </p><div class="fragment"><div class="line">cleos push action nft acceptreq &#39;[creator, 1]&#39; -p creator</div>
</div><!-- fragment --><h3>Эмиссия NFT</h3>
<p >Эмиссия NFT происходит с помощью вызова метода emit создателем NFT или членом белого листа: </p><div class="fragment"><div class="line">cleos push action nft emit &#39;[creator, 2, 100]&#39; -p creator</div>
</div><!-- fragment --><p> Здесь создатель выпускает для объекта с идентификатором 2 - 100 частей.</p>
<h3>Удаление NFT</h3>
<p >Если объект создан, но никогда не был продан, то его можно удалить с помощью метода: </p><div class="fragment"><div class="line">cleos push action nft remove &#39;[creator, 3]&#39; -p creator</div>
</div><!-- fragment --><p> Здесь мы удаляем объект с иденификатором 3</p>
<h3>Отзывы на NFT</h3>
<p >После завершения сделки, покупатель может создать отзыв: </p><div class="fragment"><div class="line">cleos push action nft setreview &#39;[buyer, 2, &quot;message in review&quot;, 5, &quot;&quot;]&#39; -p buyer</div>
</div><!-- fragment --><p> Здесь покупатель оставляет отзыв для объекта с идентификатором 2 и оценкой 5 (оценки принимаются от 0 до 5)</p>
<h3>Сообщения в NFT</h3>
<p >В процессе обмена, покупатель и продавец могут обмениваться сообщениями, для этого: </p><div class="fragment"><div class="line">cleos push action nft sendmessage &#39;[usermame, 4, ru, &quot;this is message&quot;]&#39; -p username</div>
</div><!-- fragment --><p> Где username - это buyer или seller</p>
<h3>Аукцион NFT</h3>
<p >TODO | задание на хакатон | все необходимые структуры данных есть</p>
<h2>Документация к методам и таблицам контракта</h2>
<p >Документация к методам и таблицам контракта доступна в папке docs/html/index.html </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
